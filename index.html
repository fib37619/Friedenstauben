<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Friedenstaube Animation</title>
<style>
  body { 
    font-family: sans-serif; 
    text-align: center; 
    margin: 0; 
    padding: 0;
  }

  h1, p {
    margin: 10px 0;
  }

  #mapContainer { 
    position: relative; 
    display: inline-block; 
    cursor: crosshair; 
  }

  #worldMap { 
    width: 90vw; 
    max-width: 1000px; 
    display: block; 
  }

  .dove {
    position: absolute;
    font-size: 30px;
    transform: translate(-50%, -50%);
  }

  .wish {
    position: absolute;
    transform: translate(-50%, -150%);
    font-size: 14px;
    background: rgba(255,255,255,0.7);
    padding: 2px 4px;
    border-radius: 4px;
  }

  /* Projektmarker */
  .project-marker {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #FF6347; /* leuchtendes Rot */
    border-radius: 50%;
    border: 2px solid white;
    transform: translate(-50%, -50%);
    cursor: pointer;
    animation: pulse 2s infinite;
    box-shadow: 0 0 6px rgba(0,0,0,0.3);
  }

  .project-marker:hover::after {
    content: attr(data-title);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255,255,255,0.9);
    padding: 4px 8px;
    border-radius: 4px;
    white-space: nowrap;
    font-size: 12px;
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
  }

  /* Pulsier-Animation */
  @keyframes pulse {
    0% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.2); }
    100% { transform: translate(-50%, -50%) scale(1); }
  }
</style>
</head>
<body>

<h1>Schicke eine Friedenstaube</h1>
<p>Klicke auf die Weltkarte, um dein Ziel auszuw√§hlen üåç</p>

<form id="wishForm">
  <input type="text" id="wishInput" placeholder="Dein Friedenswunsch" required>
  <button type="submit">Taube senden</button>
</form>

<div id="mapContainer">
  <img id="worldMap" 
       src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/World_map_-_low_resolution.svg/1000px-World_map_-_low_resolution.svg.png" 
       alt="Weltkarte">
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
const form = document.getElementById('wishForm');
const mapContainer = document.getElementById('mapContainer');
const worldMap = document.getElementById('worldMap');

let targetX = null;
let targetY = null;

// Marker f√ºr Nutzerziel
let marker = document.createElement('div');
marker.style.position = 'absolute';
marker.style.color = 'red';
marker.style.fontSize = '20px';
marker.textContent = '‚úö';
marker.style.display = 'none';
mapContainer.appendChild(marker);

// Nutzer klickt auf die Karte ‚Üí Ziel speichern
worldMap.addEventListener('click', (e) => {
  const rect = worldMap.getBoundingClientRect();
  targetX = e.clientX - rect.left;
  targetY = e.clientY - rect.top;

  marker.style.left = targetX + 'px';
  marker.style.top = targetY + 'px';
  marker.style.display = 'block';
});

// Projekte mit Marker
const projects = [
  {year: 2025, name: "Casa Social Cultural y Memoria", x: 320, y: 400},
  {year: 2024, name: "Kiran Kamal Prasad / Projekt Jeevika", x: 750, y: 350},
  {year: 2023, name: "Reaching Out Romania", x: 600, y: 200},
  {year: 2022, name: "Youth Peace Ambassadors Network", x: 500, y: 180},
  {year: 2021, name: "Secondary School in Nyashishi / Pippi House for Girls", x: 580, y: 450},
  {year: 2020, name: "Dr. Massimo Del Bene", x: 550, y: 220},
  {year: 2019, name: "Pfarrer J√≥zsef Lank√≥", x: 570, y: 190},
  {year: 2018, name: "Syrian Center for Media and Freedom of Expression / Yara Bader", x: 680, y: 200},
  {year: 2017, name: "Pater Shay Cullen / PREDA", x: 900, y: 380},
  {year: 2016, name: "Parents Circle Families Forum", x: 630, y: 210},
  {year: 2015, name: "Th√©r√®se Mema Mapenzi", x: 450, y: 400},
  {year: 2014, name: "Lory Obal / ICON", x: 900, y: 380},
  {year: 2013, name: "Padre Paulo Joanil da Silva / CPT", x: 300, y: 430},
  {year: 2012, name: "Bertha C√°ceres Flores / COPINH", x: 320, y: 370},
];

projects.forEach(proj => {
  const projDiv = document.createElement('div');
  projDiv.className = 'project-marker';
  projDiv.style.left = proj.x + 'px';
  projDiv.style.top = proj.y + 'px';
  projDiv.setAttribute('data-title', `${proj.year}: ${proj.name}`);
  mapContainer.appendChild(projDiv);
});

// Formular abgeschickt ‚Üí Taube fliegt los
form.addEventListener('submit', function(e){
  e.preventDefault();
  const wish = document.getElementById('wishInput').value;

  if (targetX === null || targetY === null) {
    alert("Bitte zuerst auf die Weltkarte klicken!");
    return;
  }

  const dove = document.createElement('div');
  dove.className = 'dove';
  dove.textContent = 'üïäÔ∏è';
  dove.style.left = '50%';
  dove.style.top = '90%';
  mapContainer.appendChild(dove);

  gsap.to(dove, {
    duration: 3,
    left: targetX + 'px',
    top: targetY + 'px',
    ease: "power1.inOut",
    onComplete: () => {
      const wishDiv = document.createElement('div');
      wishDiv.className = 'wish';
      wishDiv.style.left = targetX + 'px';
      wishDiv.style.top = targetY + 'px';
      wishDiv.textContent = wish;
      mapContainer.appendChild(wishDiv);
    }
  });

  form.reset();
});
</script>

</body>
</html>
